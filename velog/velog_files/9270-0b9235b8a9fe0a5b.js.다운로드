(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9270],{86199:function(e,t,n){"use strict";var r=n(50846),i=n(14093);t.Z=function(e){let{href:t,className:n="",children:a,...s}=e;return(0,r.jsx)(i.default,{href:t,className:n,...s,children:a})}},7467:function(e,t,n){"use strict";n.d(t,{default:function(){return K}});var r=n(50846),i=n(22746),a=n.n(i),s=n(66796),l=n(71046),c=n.n(l),o=n(47508),u=n(7106);let d=(0,o.x)(c());var m=function(e){let{to:t,color:n="teal",size:i="default",border:a=!1,className:l,...c}=e,o=(0,r.jsx)("button",{className:d("block",i,a?"border":"notBorder",n,l),...c}),m=t?u.Z:s.Fragment;return s.createElement(m,t?{href:t}:null,o)},f=n(75682),h=n(22447),_=n(44700),x=n(14906),v=n.n(x),j=n(86225),b=n(30243);let k=(0,o.x)(v());var g=function(e){let{user:t,onClick:n}=e;return(0,r.jsxs)("div",{className:k("block"),onClick:n,children:[(0,r.jsx)(j.default,{src:t.profile.thumbnail||"https://velcdn.com/images/user-thumbnail.png",alt:"user thumbnail",width:40,height:40,priority:!0}),(0,r.jsx)(b.gwH,{})]})},p=n(58298),N=n(38340),H=n.n(N),w=n(77735),y=n.n(w),B=n(14093);let R=(0,o.x)(y());var T=function(e){let{children:t,to:n,onClick:i,isMigrated:a=!1}=e,l=(0,r.jsx)("div",{className:R("block"),onClick:i,children:t}),c=n?a?B.default:u.Z:s.Fragment;return s.createElement(c,n?{href:n,className:"".concat(R("link"))}:null,l)},C=n(37949);let M=(0,o.x)(H());var P=function(e){let{isVisible:t,onClose:n}=e,{value:{currentUser:i}}=(0,f.a)(),{ref:a}=(0,p.Z)(n),{mutateAsync:l}=(0,C._y)(),c=(0,s.useCallback)(async()=>{location.href="/",await l({})},[l]);return t?(0,r.jsx)("div",{className:M("block"),ref:a,children:(0,r.jsxs)("div",{className:M("menu-wrapper"),children:[(0,r.jsx)(T,{to:"/@".concat(null==i?void 0:i.username,"/posts"),isMigrated:!0,children:"내 벨로그"}),(0,r.jsx)("div",{className:M("mobile-only"),children:(0,r.jsx)(T,{to:"/write",children:"새 글 작성"})}),(0,r.jsx)(T,{to:"/saves",children:"임시 글"}),(0,r.jsx)(T,{to:"/lists/liked",children:"읽기 목록"}),(0,r.jsx)(T,{to:"/setting",isMigrated:!0,children:"설정"}),(0,r.jsx)(T,{onClick:c,children:"로그아웃"})]})}):null},E=n(54473),S=n.n(E);let Z=(0,o.x)(S());var L=function(e){let{logo:t}=e;return(0,r.jsx)("div",{className:Z("block","mainHeaderResponsive"),children:(0,r.jsxs)("div",{className:Z("innerBlock"),children:[t,(0,r.jsxs)("div",{className:Z("right"),children:[(0,r.jsx)("div",{className:Z("button")}),(0,r.jsx)("div",{className:Z("button")}),(0,r.jsx)("div",{className:Z("button","writeButton")}),(0,r.jsx)("div",{className:Z("button")})]})]})})},F=n(93476),U=n.n(F),G=n(10190);let V=(0,o.x)(U());var I=function(){return(0,r.jsx)("div",{className:V("block"),children:(0,r.jsx)(B.default,{href:"/",children:(0,r.jsx)(G.TR,{className:V("velogLogo"),"data-testid":"velog-logo",width:71,height:24})})})},O=n(83268),D=n(42429),W=n(77140),X=n(11499),J=n.n(X);let q=(0,o.x)(J());var z=function(e){let{children:t,className:n}=e;return(0,r.jsx)("div",{className:q("block",n),children:t})};let Q=(0,o.x)(a());var K=function(e){var t,n;let{logo:i}=e,a=(0,O.useParams)(),l=(0,O.usePathname)(),c=(0,O.useRouter)(),[o,u]=(0,_.Z)(!1),d=(0,s.useRef)(null),{actions:x}=(0,h.d)(),{actions:{update:v}}=(0,f.a)(),{data:j,isLoading:b}=(0,C.rk)(),k=null!==(t=null==j?void 0:j.currentUser)&&void 0!==t?t:null,{data:p}=(0,C.cw)({},{enabled:!!k});(0,s.useEffect)(()=>{v(k)},[v,k]);let N=(0,D.XX)(a),H=l.includes("/notification"),w=null!==(n=null==p?void 0:p.notNoticeNotificationCount)&&void 0!==n?n:0;return b?(0,r.jsx)(L,{logo:i||(0,r.jsx)(I,{})}):(0,r.jsx)("header",{className:Q("block","mainHeaderResponsive"),children:(0,r.jsxs)("div",{className:Q("innerBlock"),children:[i||(0,r.jsx)(I,{}),(0,r.jsxs)("div",{className:Q("right"),children:[(0,r.jsx)(B.default,{className:Q("notification"),href:"/notifications",onClick:e=>{if(e.preventDefault(),!k){x.showModal("login","/notifications");return}c.push("/notifications")},children:(0,r.jsxs)(z,{className:Q({active:H}),children:[k&&0!==w&&(0,r.jsx)("div",{className:Q("notificationCounter",{isSingle:0===Math.floor(w/10),hide:H}),children:Math.min(99,w)}),(0,r.jsx)(G.sh,{})]})}),(0,r.jsx)(W.Z,{href:N?"/search?username=".concat(N):"/search",children:(0,r.jsx)(z,{children:(0,r.jsx)(G.W1,{})})}),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{color:"darkGray",border:!0,to:"/write",className:Q("writeButton","button"),children:"새 글 작성"}),(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(g,{user:k,onClick:u})}),(0,r.jsx)(P,{onClose:u,isVisible:o})]}),!k&&(0,r.jsx)(m,{color:"darkGray",border:!1,className:Q("button"),onClick:()=>{x.showModal("login")},children:"로그인"})]})]})})}},7106:function(e,t,n){"use strict";var r=n(50846),i=n(77458),a=n(27428),s=n.n(a);let l=(0,n(47508).x)(s());t.Z=function(e){let{href:t,children:n,className:a="",onClick:s}=e,c="".concat(i.V.clientV2Host).concat(t);return(0,r.jsx)("a",{href:c,className:l("block",a),onClick:s,children:n})}},77140:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(7106)},52236:function(e,t,n){"use strict";var r=n(50846),i=n(66796),a=n(45528),s=n.n(a),l=n(47508),c=n(42429),o=n(66164),u=n(83268),d=n(44144);let m=(0,l.x)(s());t.default=function(e){let{header:t}=e,n=(0,u.usePathname)(),[a,s]=(0,i.useState)(!1),l=(0,i.useRef)(null),[f,h]=(0,i.useState)(0),[_,x]=(0,i.useState)(0),v=(0,d.m)(n);(0,i.useEffect)(()=>{l.current&&(h(l.current.clientHeight),x(-1*l.current.clientHeight))},[]);let j=(0,i.useRef)(0),b=(0,i.useRef)("DOWN"),k=(0,i.useRef)(0),g=(0,i.useCallback)(()=>{let e=(0,c.cx)(),t=j.current>e?"UP":"DOWN";"DOWN"===b.current&&"UP"===t&&k.current-e<0&&(s(!0),k.current=e),"UP"===b.current&&"DOWN"===t&&e-k.current<-1*f&&(k.current=e+f),e<64&&s(!1);let n=v?-112:-64;x(Math.max(Math.min(0,-1*f+k.current-e),n)),b.current=t,j.current=e},[f,v]);return(0,i.useEffect)(()=>(document.addEventListener("scroll",g),()=>{document.removeEventListener("scroll",g)}),[g]),(0,r.jsx)("div",{className:m("block"),style:a?{marginTop:_,display:"block"}:{marginTop:-1*f,opacity:0},ref:l,children:(0,r.jsxs)("div",{className:m("mainResponsive"),children:[t,v&&(0,r.jsx)(o.default,{isFloatingHeader:!0})]})})}},66164:function(e,t,n){"use strict";n.d(t,{default:function(){return T}});var r=n(50846),i=n(83268),a=n(3653),s=n.n(a),l=n(47508),c=n(44700),o=n(66796),u=n(73166),d=n(86199),m=n(30243),f=n(91028);let h=Object.entries({day:"오늘",week:"이번 주",month:"이번 달",year:"올해"});var _=n(74869),x=n.n(_),v=n(58298),j=n(28466),b=n(14093);let k=(0,l.x)(x());var g=function(e){let{isVisible:t,onClose:n}=e,a=(0,i.useParams)(),{value:{timeframe:s},actions:l}=(0,u.W)(),{ref:c}=(0,v.Z)(n);return(0,o.useEffect)(()=>{var e;let t=null!==(e=a.timeframe)&&void 0!==e?e:"week";l.choose(t)},[l,a]),(0,r.jsx)(j.M,{children:t&&(0,r.jsx)(f.E.div,{initial:{opacity:0,transform:"scale(0.8)"},animate:{opacity:1,transform:"scale(1)"},exit:{opacity:0,transform:"scale(0.8)"},transition:{type:"tween",duration:.2},className:k("aligner"),children:(0,r.jsx)("div",{className:k("block"),ref:c,children:(0,r.jsx)("ul",{children:h.map(e=>{let[t,i]=e;return(0,r.jsx)("li",{onClick:()=>{l.choose(t),n()},children:(0,r.jsx)(b.default,{className:k({active:t===s}),href:"/trending/".concat(t),children:i})},t)})})})})})},p=n(60029),N=n.n(p),H=n(74376),w=n(86225);let y=(0,l.x)(N());var B=function(e){let{isVisible:t,onClose:n}=e,{ref:i}=(0,v.Z)(n),{value:{theme:a}}=(0,H.F)();return(0,r.jsx)(j.M,{children:t&&(0,r.jsx)(f.E.div,{initial:{opacity:0,transform:"scale(0.8)"},animate:{opacity:1,transform:"scale(1)"},exit:{opacity:0,transform:"scale(0.8)"},transition:{type:"tween",duration:.2},className:y("aligner"),children:(0,r.jsxs)("div",{className:y("block"),ref:i,children:[(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(b.default,{href:"/@velog",children:"공지사항"})}),(0,r.jsx)("li",{children:(0,r.jsx)(b.default,{href:"/tags",children:"태그 목록"})}),(0,r.jsx)("li",{children:(0,r.jsx)(b.default,{href:"/policy/terms",children:"서비스 정책"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://bit.ly/velog-slack",target:"_blank",rel:"noopener noreferrer",children:"Slack"})})]}),(0,r.jsxs)("div",{className:y("contact"),children:[(0,r.jsx)("h5",{children:"문의"}),(0,r.jsx)("div",{className:y("email"),children:"contact@velog.io"})]}),(0,r.jsx)("div",{className:y("graphCdn"),children:(0,r.jsx)("a",{href:"https://graphcdn.io/?ref=powered-by",children:(0,r.jsx)(w.default,{src:"dark"===a?"https://graphcdn.io/badge-light.svg":"https://graphcdn.io/badge.svg",alt:"Powered by GraphCDN, the GraphQL CDN",height:53,width:120})})})]})})})};let R=(0,l.x)(s());var T=function(e){var t;let{isFloatingHeader:n=!1}=e,a=(0,i.usePathname)(),s=null!==(t=(0,i.useParams)().timeframe)&&void 0!==t?t:"week",[l,_]=(0,c.Z)(!1),[x,v]=(0,c.Z)(!1),{isFetching:j}=(0,u.I)(),b=(0,o.useRef)(null);return(0,r.jsxs)("div",{className:R("wrapper","mainHeaderResponsive",{isFloating:n}),children:[(0,r.jsx)("nav",{className:R("left"),children:(0,r.jsxs)("div",{className:R("tab"),children:[(0,r.jsxs)(d.Z,{href:"/trending/week",className:R({active:"/"===a||a.includes("/trending")}),children:[(0,r.jsx)(m.gSd,{}),(0,r.jsx)("span",{children:"트렌딩"})]}),(0,r.jsxs)(d.Z,{href:"/recent",className:R({active:a.includes("/recent")}),children:[(0,r.jsx)(m.dKE,{}),(0,r.jsx)("span",{children:"최신"})]}),(0,r.jsxs)(d.Z,{href:"/feed",className:R({active:a.includes("/feed")}),children:[(0,r.jsx)(m.PLL,{}),(0,r.jsx)("span",{children:"피드"})]}),(0,r.jsx)(f.E.div,{initial:!1,animate:{left:"/feed"===a?"70.33%":"/recent"===a?"38.33%":"2%"},className:R("indicator")})]})}),(0,r.jsxs)("div",{className:R("right"),children:[("/"===a||a.includes("/trending"))&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:R("selector"),onClick:()=>{j||v()},ref:b,children:[h.find(e=>e[0]===s)[1],(0,r.jsx)(m.gwH,{})]}),(0,r.jsx)(g,{isVisible:x,onClose:v})]}),(0,r.jsx)(m.rgS,{onClick:_,className:R("extra")}),(0,r.jsx)(B,{isVisible:l,onClose:_})]})]})}},73166:function(e,t,n){"use strict";n.d(t,{I:function(){return a},W:function(){return s}});var r=n(45697);let i=(0,r.x0)({timeframe:"week",isFetching:!1},e=>({choose(t){e.timeframe=t},setIsFetching(t){e.isFetching=t}}));function a(){return(0,r.ne)(i)}function s(){return{value:(0,r.ne)(i),actions:(0,r.tL)(i)}}},58298:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(66796);function i(e){let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let n=n=>{t.current&&!t.current.contains(n.target)&&e()};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[t,e]),{ref:t}}},44700:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(66796);function i(e){let[t,n]=(0,r.useState)(e),i=(0,r.useCallback)(()=>{n(!t)},[t]);return[t,i]}},44144:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});let r=e=>"/"===e||["/recent","/trending","/feed"].some(t=>e.includes(t))},42429:function(e,t,n){"use strict";n.d(t,{XX:function(){return a},YF:function(){return i},_v:function(){return l},cx:function(){return r},ve:function(){return s}});let r=()=>document.body?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:0,i=e=>e.replace(/[^0-9a-zA-Zㄱ-힣.\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf -]/g,"").trim().replace(/ /g,"-").replace(/--+/g,"-"),a=e=>{if(!e.username)return"";let t=encodeURIComponent("@");return e.username.replace(t,"")};function s(e){return new Promise((t,n)=>{let r=document.createElement("script");r.onload=function(){t(null)},r.onerror=function(){n()},r.src=e,document&&document.head&&document.head.appendChild(r)})}let l=e=>new Promise(t=>setTimeout(t,e))},75682:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(45697);let i=(0,r.x0)({currentUser:null},e=>({update(t){e.currentUser=t}}));function a(){return{value:(0,r.ne)(i),actions:(0,r.tL)(i)}}},22447:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(45697);let i=(0,r.x0)({isVisible:!1,mode:"",redirectPath:null},e=>({showModal(t,n){e.mode=t,e.isVisible=!0,e.redirectPath=n||null},closeModal(){e.mode="",e.isVisible=!1,e.redirectPath=null},changeMode(t){e.mode=t}}));function a(){return{value:(0,r.ne)(i),actions:(0,r.tL)(i)}}},74376:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var r=n(66796),i=n(45697);let a=(0,i.x0)({theme:null,systemTheme:"not-ready",isSystemThemePrefer:!1},e=>({enableLightMode(){e.theme="light"},enableDarkMode(){e.theme="dark"},setSystemTheme(t){e.systemTheme=t},setSystemThemePrefer(t){e.isSystemThemePrefer=t}}));function s(){let e=(0,i.ne)(a),t=(0,i.tL)(a),n=(0,r.useCallback)(()=>"not-ready"===e.systemTheme?null:e.theme?e.theme:e.systemTheme,[e.theme,e.systemTheme]);return{value:e,actions:t,theme:n()}}},22746:function(e){e.exports={block:"Header_block__wbdml",innerBlock:"Header_innerBlock__00UjG",right:"Header_right__IaiY4",notification:"Header_notification__cTNS6",active:"Header_active__8Eipm",notificationCounter:"Header_notificationCounter___2w0k",isSingle:"Header_isSingle__S57Hw",button:"Header_button__hnRqq",writeButton:"Header_writeButton__BGlkS"}},11499:function(e){e.exports={block:"HeaderIcon_block__v1CF2"}},93476:function(e){e.exports={block:"HeaderLogo_block___V7RZ"}},54473:function(e){e.exports={block:"HeaderSkeleton_block__JNvp0",innerBlock:"HeaderSkeleton_innerBlock__EsofN",right:"HeaderSkeleton_right__SmKjQ",button:"HeaderSkeleton_button__B_uXd",writeButton:"HeaderSkeleton_writeButton__ziGM2"}},14906:function(e){e.exports={block:"HeaderUserIcon_block__Q8xa9"}},38340:function(e){e.exports={block:"HeaderUserMenu_block__g3SaF","menu-wrapper":"HeaderUserMenu_menu-wrapper__LJcnW","mobile-only":"HeaderUserMenu_mobile-only__VOhXW"}},77735:function(e){e.exports={block:"HeaderUserMenuItem_block__V7TgO",link:"HeaderUserMenuItem_link__VvJXp"}},71046:function(e){e.exports={block:"RoundButton_block__UPARJ",small:"RoundButton_small__ROpg9",default:"RoundButton_default__4U7Pz",large:"RoundButton_large__iD5I7",notBorder:"RoundButton_notBorder__O_IqR",teal:"RoundButton_teal__XwelT",lightGray:"RoundButton_lightGray__Jjtv0",gray:"RoundButton_gray__X_KiG",darkGray:"RoundButton_darkGray__GjMgU",trasnparent:"RoundButton_trasnparent__jqygC",red:"RoundButton_red__9XtxF",border:"RoundButton_border__Fo3_1"}},27428:function(e){e.exports={block:"VLink_block__Uwj4P"}},45528:function(e){e.exports={block:"FloatingHeader_block__Wy2Ou"}},60029:function(e){e.exports={aligner:"HomeMoreButton_aligner__8dVwf",block:"HomeMoreButton_block__atexz",contact:"HomeMoreButton_contact__awB79",email:"HomeMoreButton_email__aARrY",graphCdn:"HomeMoreButton_graphCdn__BOUik"}},3653:function(e){e.exports={wrapper:"HomeTab_wrapper__Z8vJT",isFloating:"HomeTab_isFloating__ouGoH",left:"HomeTab_left__o1RQE",tab:"HomeTab_tab__viwzb",active:"HomeTab_active__qHDGO",indicator:"HomeTab_indicator__wQ03f",right:"HomeTab_right__GMLbd",selector:"HomeTab_selector__I5TLL",extra:"HomeTab_extra__x0Vmq"}},74869:function(e){e.exports={aligner:"TimeframePicker_aligner__hldJ2",block:"TimeframePicker_block__zLMBK",active:"TimeframePicker_active__T3EQK"}}}]);